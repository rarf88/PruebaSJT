
/* vR1 — Mobile/Tablet Layer (≤991px). Desktop remains intact. */
@media (max-width:991px){
  :root{ --r1h:72px; --r1pad:14px; --brand:#106374; }

  /* Header */
  #r1-header{ position:fixed; top:0; left:0; right:0; height:var(--r1h); background:var(--brand); z-index:10050;
              display:flex; align-items:center; justify-content:space-between; padding:0 var(--r1pad); }
  body.r1-has-header{ padding-top:var(--r1h); }

  #r1-header .brand{ display:inline-flex; align-items:center; max-width:70vw; overflow:visible; }
  #r1-header .brand img{ max-height:calc(var(--r1h) - 10px); width:auto; height:auto; max-width:70vw; object-fit:contain; display:block; }

  #r1-burger{ width:44px; height:44px; display:grid; place-items:center; border:0; background:transparent; }
  #r1-burger span, #r1-burger span::before, #r1-burger span::after{ background:#fff; }
  #r1-burger span{ width:26px; height:2px; position:relative; display:block; }
  #r1-burger span::before, #r1-burger span::after{ content:""; position:absolute; left:0; width:26px; height:2px; background:#fff; }
  #r1-burger span::before{ top:-7px } #r1-burger span::after{ top:7px }

  #r1-menu{
    position:fixed; top:var(--r1h); left:12px; z-index:10051; background:var(--brand); color:#fff; border-radius:12px;
    max-height:calc(100dvh - (var(--r1h) + 16px)); overflow:auto; padding:10px 14px;
    box-shadow:0 8px 24px rgba(0,0,0,.18); display:none; width:max-content; max-width:calc(100% - 24px);
  }
  #r1-menu a{ color:#fff; text-decoration:none; display:block; padding:12px 8px; border-bottom:1px solid rgba(255,255,255,.18); text-transform:uppercase; white-space:nowrap; }
  #r1-menu a:last-child{ border-bottom:none; }
  body.r1-menu-open{ overflow:hidden; }

  /* Push first section below header to avoid overlap */
  body > main:first-of-type,
  body > section:first-of-type,
  body > div:first-of-type,
  .site-main:first-of-type,
  #main:first-of-type,
  .hero:first-of-type,
  .carousel:first-of-type,
  .slider:first-of-type,
  .banner:first-of-type{ margin-top:calc(var(--r1h) + 8px); }

  /* Slider clean-up */
  .slick-list, .carousel, .swiper{ margin-top:0 !important; margin-bottom:0 !important; }
  .slick-slide img, .carousel-item img, .swiper-slide img{ display:block; width:100%; height:auto; object-fit:cover; }
  .slick-dots li button:before{ font-size:10px !important; opacity:.75 !important; }
  .slick-prev, .slick-next{ width:24px !important; height:24px !important; z-index:9 !important; }
  .slick-prev:before, .slick-next:before{ font-size:20px !important; }
  .carousel-control-prev, .carousel-control-next{ width:28px !important; }
  .carousel-control-prev-icon, .carousel-control-next-icon{ width:24px !important; height:24px !important; background-size:24px 24px !important; }
  .swiper-button-prev, .swiper-button-next{ width:28px !important; height:28px !important; }
  .swiper-button-prev:after, .swiper-button-next:after{ font-size:18px !important; }
  .slider .overlay, .carousel .overlay, .swiper .overlay{ display:none !important; }

  /* Chips/Entities (avoid text cut, better spacing) */
  .chip, .entity, .chip-pill, .entidad-chip{
    padding:10px 14px !important; font-size:clamp(12px, 2.6vw, 16px) !important;
    word-break:normal !important; overflow-wrap:anywhere !important; white-space:normal !important; text-align:center !important;
  }
  .chips, .entities, .grid, .cards, [class*="grid"]{
    grid-template-columns:1fr !important; gap:12px !important; justify-items:stretch !important;
  }

  /* Productos: anchor to modules */
  #modulos, #modules{ scroll-margin-top:calc(var(--r1h) + 8px); }

  /* Casos de Éxito */
  .cases, .success-cases, .portfolio{ display:grid !important; grid-template-columns:1fr !important; gap:14px !important; }
  .case-card, .portfolio-item, .success-card{ overflow:hidden; }
  .case-card img, .portfolio-item img, .success-card img{ width:100%; height:auto; object-fit:cover; display:block; }
  .case-card .back, .portfolio-item .back, .success-card .back{ display:block !important; }

  /* Footer at bottom */
  html, body{ min-height:100%; }
  body{ display:flex; flex-direction:column; }
  main, .site-main, .content, .page-content, #content{ flex:1 1 auto; }
  footer, .site-footer{ margin-top:auto !important; }

  /* Titles fixes */
  h1, h2, h3, .title, .subtitle{ word-break:normal !important; overflow-wrap:anywhere !important; }
}
