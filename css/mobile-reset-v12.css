
/* v12 RESET — Fresh mobile/tablet CSS built from desktop. Desktop untouched. */
@media (max-width:991px){
  :root{ --mh:64px }
  html,body{margin:0;padding:0;height:100%}
  body{min-height:100%;display:flex;flex-direction:column;overflow-x:hidden;padding-top:var(--mh)}

  /* Hide any original mobile header/menus from previous site */
  .site-header .mobile, .mobile-menu, .menu-mobile, .nav-drawer, .drawer, 
  .mobile-menu-overlay, .menu-backdrop, .nav-overlay, .drawer-overlay { display:none !important; }

  /* New clean mobile header */
  #mobi-header{position:fixed;inset:0 0 auto 0;height:var(--mh);display:flex;align-items:center;justify-content:space-between;z-index:10000;background:#106374;padding:0 12px}
  #mobi-header .brand img{max-height:46px;height:auto;width:auto;display:block;object-fit:contain}
  #mobi-burger{width:40px;height:40px;display:grid;place-items:center;cursor:pointer;background:transparent;border:0}
  #mobi-burger span{width:24px;height:2px;background:#fff;display:block;position:relative}
  #mobi-burger span::before,#mobi-burger span::after{content:"";position:absolute;left:0;width:24px;height:2px;background:#fff}
  #mobi-burger span::before{top:-7px} #mobi-burger span::after{top:7px}

  /* New clean mobile menu */
  #mobi-menu{position:fixed;top:var(--mh);left:12px;background:#106374;color:#fff;border-radius:12px;max-height:calc(100vh - var(--mh) - 24px);overflow:auto;
             padding:10px 14px;box-shadow:0 8px 24px rgba(0,0,0,.18);display:none;width:max-content;max-width:calc(100% - 24px)}
  #mobi-menu a{color:#fff;text-decoration:none;display:block;padding:12px 8px;border-bottom:1px solid rgba(255,255,255,.18);text-transform:uppercase}
  #mobi-menu a:last-child{border-bottom:none}

  /* Content & footer layout */
  main,.site-main,.content,.page-content,#content{flex:1 1 auto}
  main>:last-child,.site-main>:last-child,.content>:last-child,#content>:last-child{margin-bottom:0}

  /* Slider/Pasarela clean */
  .slider,.carousel,.hero,.hero-section,.home-hero{margin:0;padding:0;overflow:hidden;aspect-ratio:16/9}
  .slider img,.carousel img,.hero img,.home-hero img{width:100%;height:100%;object-fit:cover;display:block}
  .slider::before,.slider::after,.carousel::before,.carousel::after,.hero::before,.hero::after,
  .slider *::before,.slider *::after,.carousel *::before,.carousel *::after{content:none !important;display:none !important;background:transparent !important;box-shadow:none !important}

  /* Chips & grids */
  .chips,.chips-row,.entities-row,.chips-wrap{display:flex;flex-wrap:wrap;gap:12px;justify-content:center}
  .chip,.entity{white-space:normal;overflow-wrap:anywhere;word-break:break-word;padding:8px 12px;border-radius:999px;font-size:clamp(11px,2.4vw,15px);line-height:1.2}
  .cases-grid,.exito-grid,.modules-grid,.cards-grid{display:grid;grid-template-columns:1fr;gap:16px}
  .case-summary-card,.exito-card,.success-card,.module-card,.card,.box{min-height:auto;height:auto;overflow:visible}

  /* Productos: ensure modules container present */
  #modulos,#modulos-grid,.productos-modulos-below{display:block}
}
@supports(height:100dvh){
  @media (max-width:991px){ .slider{min-height:100dvh} }
}



/* v12.r2 additions */
@media (max-width:991px){
  /* 0) Safe-area for iOS */
  :root{ --mh: calc(64px + env(safe-area-inset-top, 0px)); }
  #mobi-header{ padding-top: env(safe-area-inset-top, 0px); height: var(--mh); }
  #mobi-menu{ top: var(--mh); }

  /* 1) Prevent body scroll when menu open */
  body.mobi-menu-open{ overflow: hidden; }

  /* 2) Fit menu width to longest item */
  #mobi-menu{ width: max-content; max-width: calc(100% - 24px); }

  /* 3) Global scroll-margin to avoid header cover */
  :target, .section, .page-title, .hero, .hero-section, .slider, .modules-grid, #modulos, #modulos-grid{ scroll-margin-top: calc(var(--mh) + 8px); }

  /* 4) Strong kill overlays/ovals on sliders */
  .oval, .ovals, .shape, .shapes, .mask, .cover, .gradient-overlay,
  .hero::before, .hero::after, .hero-section::before, .hero-section::after,
  .home-hero::before, .home-hero::after{ display:none !important; content:none !important; background:transparent !important; }

  /* 5) Ensure slider takes full width and image covers */
  .slider, .carousel, .hero, .hero-section, .home-hero{ aspect-ratio: 16/9; height:auto; margin:0 !important; padding:0 !important; overflow:hidden !important; }
  .slider img, .carousel img, .hero img, .home-hero img{ width:100% !important; height:100% !important; display:block !important; object-fit:cover !important; }

  /* 6) Chips text clamp + center + wrap */
  .chip, .entity, .chip-pill, .entidad-chip{ text-align:center; word-break:break-word; overflow-wrap:anywhere; }

  /* 7) Cards/grids single column */
  .cases-grid, .exito-grid, .modules-grid, .cards-grid, .success-grid{ grid-template-columns: 1fr !important; gap: 16px !important; }

  /* 8) Footer spacing normalized */
  footer, .site-footer{ margin-top:auto !important; }
}



/* v13 additions */
@media (max-width:991px){
  /* Normalize first section spacing */
  body > *:first-child{ margin-top:0 !important; padding-top:0 !important; }
  .hero, .hero-section, .slider, .carousel{ margin-top:0 !important; }

  /* Footer pinned */
  footer, .site-footer{ margin-top:auto !important; }
  footer *, .site-footer *{ max-width:100% !important; }

  /* Chips tighter but readable */
  .chip, .entity, .chip-pill, .entidad-chip{ padding:10px 14px !important; font-size:clamp(12px,2.6vw,16px) !important; }

  /* Ensure no hidden logo */
  #mobi-header .brand img{ display:block !important; max-height:46px !important; }

  /* Kill any fixed overlays near header */
  .overlay, .mask, .backdrop, .nav-overlay, .drawer-overlay{ display:none !important; }
}



/* v13.2 — targeted fixes (mobile ≤991px) */
@media (max-width:991px){
  /* 1) Oculta headers nativos; usa SOLO el #mobi-header */
  .site-header, header, .navbar{ display:none !important; }
  #mobi-header{ display:flex !important; position:fixed; top:0; left:0; right:0; height:64px; background:#106374; z-index:10000; }
  body{ padding-top:64px !important; }

  /* 2) Menú hamburguesa y menú visibles y operativos */
  #mobi-burger{ width:40px; height:40px; display:grid; place-items:center; border:0; background:transparent; }
  #mobi-menu{ display:none; position:fixed; top:64px; left:12px; background:#106374; color:#fff; border-radius:12px;
              max-height:calc(100vh - 80px); overflow:auto; padding:10px 14px; box-shadow:0 8px 24px rgba(0,0,0,.18);
              width:max-content; max-width:calc(100% - 24px); z-index:10001; }
  #mobi-menu a{ color:#fff; text-decoration:none; display:block; padding:12px 8px; border-bottom:1px solid rgba(255,255,255,.18); text-transform:uppercase; }
  #mobi-menu a:last-child{ border-bottom:none; }
  body.mobi-menu-open{ overflow:hidden !important; }

  /* 3) Footer pegado y sin daños */
  html, body{ height:100%; }
  main, .site-main, .content, .page-content, #content{ flex:1 1 auto; }
  footer, .site-footer{ margin-top:auto !important; }

  /* 4) Botones de la pasarela/slider más pequeños (Slick/Bootstrap/Swiper) */
  .slick-prev, .slick-next{ width:24px !important; height:24px !important; z-index:9 !important; }
  .slick-prev:before, .slick-next:before{ font-size:20px !important; }
  .carousel-control-prev, .carousel-control-next{ width:28px !important; }
  .carousel-control-prev-icon, .carousel-control-next-icon{ width:24px !important; height:24px !important; background-size:24px 24px !important; }
  .swiper-button-prev, .swiper-button-next{ width:28px !important; height:28px !important; }
  .swiper-button-prev:after, .swiper-button-next:after{ font-size:18px !important; }
}
