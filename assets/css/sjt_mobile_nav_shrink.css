/* sjt_mobile_nav_shrink.css — v3 (2025-10-02) */
/* Applies only to mobile & tablets */
@media (max-width: 1024px){
  :root{
    --sjt-nav-height: 64px;              /* default mobile/tablet nav height */
    --sjt-nav-height-shrink: 36px;       /* reduced height after scrolling — more aggressive */
  }

  /* Ensure nav containers never collapse and align contents vertically */
  header, .header, .navbar, .topbar, nav[role="navigation"]{
    min-height: var(--sjt-nav-height) !important;
    transition: min-height .22s ease, height .22s ease, box-shadow .22s ease, padding .22s ease;
    display: flex !important;
    align-items: center !important;
  }
  html.sjt-shrink header,
  html.sjt-shrink .header,
  html.sjt-shrink .navbar,
  html.sjt-shrink .topbar,
  html.sjt-shrink nav[role="navigation"]{
    min-height: var(--sjt-nav-height-shrink) !important;
    box-shadow: 0 2px 10px rgba(0,0,0,.06);
    padding-top: clamp(2px, 0.4vh, 6px) !important;
    padding-bottom: clamp(2px, 0.4vh, 6px) !important;
  }

  /* If the site uses a div .logo with background-image */
  header .logo, .header .logo, .navbar .logo, .topbar .logo, nav[role="navigation"] .logo{
    height: var(--sjt-nav-height) !important;
    line-height: var(--sjt-nav-height) !important;
    background-size: contain !important;
    background-repeat: no-repeat !important;
    background-position: center !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }
  html.sjt-shrink header .logo,
  html.sjt-shrink .header .logo,
  html.sjt-shrink .navbar .logo,
  html.sjt-shrink .topbar .logo,
  html.sjt-shrink nav[role="navigation"] .logo{
    height: var(--sjt-nav-height-shrink) !important;
    line-height: var(--sjt-nav-height-shrink) !important;
  }

  /* Images and SVG logos scale strictly within the bar */
  header .logo img, .header .logo img, .navbar .logo img, .topbar .logo img,
  header img.logo, .header img.logo, .navbar img.logo, .topbar img.logo,
  header img[alt*="logo" i], nav img[alt*="logo" i], img[src*="logo" i],
  header svg[aria-label*="logo" i], nav svg[aria-label*="logo" i], .logo svg{
    height: auto !important;
    max-height: calc(var(--sjt-nav-height) - 4px) !important;
    width: auto !important;
    object-fit: contain !important;
    display: block !important;
    transition: max-height .18s ease, transform .18s ease;
  }
  html.sjt-shrink header .logo img, html.sjt-shrink .header .logo img,
  html.sjt-shrink .navbar .logo img, html.sjt-shrink .topbar .logo img,
  html.sjt-shrink header img.logo, html.sjt-shrink .header img.logo,
  html.sjt-shrink .navbar img.logo, html.sjt-shrink .topbar img.logo,
  html.sjt-shrink header img[alt*="logo" i], html.sjt-shrink nav img[alt*="logo" i],
  html.sjt-shrink img[src*="logo" i],
  html.sjt-shrink header svg[aria-label*="logo" i], html.sjt-shrink nav svg[aria-label*="logo" i],
  html.sjt-shrink .logo svg{
    max-height: calc(var(--sjt-nav-height-shrink) - 4px) !important;
  }

  /* As an extra safety, if some theme forces a fixed size on the container,
     apply a gentle scale on shrink. This is limited to elements marked .logo only. */
  html.sjt-shrink .logo{
    transform: scale(0.9);
    transform-origin: center center;
  }
}
